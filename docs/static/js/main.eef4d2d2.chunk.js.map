{"version":3,"sources":["lib/requestService/requestService.js","components/Login/Login.js","features/OAuth/OAuth.js","features/Cards/Cards.js","components/Alert/Alert.js","App.js","index.js"],"names":["rootUrl","oAuthUrl","cardsUrl","parseResponse","resp","ok","json","then","Promise","reject","requestService","_oAuth2_access_token","_adminPassword","url","headers","this","Authorization","resolve","fetch","method","data","JSON","stringify","body","formBody","key","encodedKey","encodeURIComponent","encodedValue","push","join","encodeURI","username","password","_postEncodeURI","grant_type","client_id","client_secret","access_token","success","_post","admin_password","_get","name","isAdmin","from","to","Login","onSuccess","setAlert","useState","setUsername","setPassword","className","Paper","variant","Typography","TextField","label","value","onChange","target","type","Button","onClick","loginToWolke","title","error","catch","OAuth","registerUserName","setRegisterUserName","deleteUserName","setDeleteUserName","users","setUsers","getUsers","useCallback","getOAuthUsers","useEffect","registerOAuthUser","deleteOAuthUser","map","user","index","color","parseLangInput","input","split","Cards","setFrom","setTo","setIsAdmin","getCardsUsers","FormControlLabel","control","Checkbox","checked","prevState","registerCardsUser","deleteCardsUser","Alert","alert","reset","text","time","timeoutId","setTimeout","clearTimeout","open","errorMessage","Dialog","aria-labelledby","aria-describedby","DialogTitle","id","DialogContent","DialogContentText","length","message","Features","NONE","OAUTH2","CARDS","featureNames","Object","values","featureComponents","resetAlertValue","App","isAuthenticated","setIsAuthenticated","menuRef","setMenuRef","currentFeature","setCurrentFeature","FeatureComponent","handleMenuClose","event","stopPropagation","updatedFeature","innerText","includes","onLogoutSuccess","aria-controls","aria-haspopup","onPointerDown","currentTarget","Menu","anchorEl","keepMounted","Boolean","featureName","MenuItem","logout","adminPassword","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.eef4d2d2.chunk.js","sourcesContent":["const rootUrl = process.env.NODE_ENV === 'development'\n    ? 'http://localhost'\n    : 'https://wolke.glencoden.de';\n\nconst oAuthUrl = `${rootUrl}/auth`;\nconst cardsUrl = `${rootUrl}/cards`;\n\nfunction parseResponse(resp) {\n    if (resp.ok) {\n        return resp.json();\n    }\n    return resp.json().then(json => Promise.reject(json));\n}\n\nfunction encodeURI(data) {\n    const formBody = [];\n    for (const key in data) {\n        const encodedKey = encodeURIComponent(key);\n        const encodedValue = encodeURIComponent(data[key]);\n        formBody.push(`${encodedKey}=${encodedValue}`);\n    }\n    return formBody.join('&');\n}\n\n\nclass RequestService {\n    _oAuth2_access_token = '';\n    _adminPassword = '';\n\n    _get(url = `${rootUrl}/test/auth`) {\n        const headers = {'Content-Type': 'application/json; charset=utf-8'};\n        if (this._oAuth2_access_token) {\n            headers.Authorization = `Bearer ${this._oAuth2_access_token}`;\n        }\n        return Promise.resolve()\n            .then(() => fetch(url, {\n                method: 'GET',\n                headers\n            }))\n            .then(parseResponse);\n    }\n\n    _post(url, data) {\n        const headers = {'Content-Type': 'application/json; charset=utf-8'};\n        if (this._oAuth2_access_token) {\n            headers.Authorization = `Bearer ${this._oAuth2_access_token}`;\n        }\n        return Promise.resolve()\n            .then(() => JSON.stringify(data))\n            .then(body => fetch(url, {\n                method: 'POST',\n                headers,\n                body\n            }))\n            .then(parseResponse);\n    }\n\n    _postEncodeURI(url, data) {\n        return Promise.resolve()\n            .then(() => encodeURI(data))\n            .then(body => fetch(url, {\n                method: 'POST',\n                headers: { 'Content-Type': 'application/x-www-form-urlencoded; charset=UTF-8' },\n                body\n            }))\n            .then(parseResponse);\n    }\n\n    loginToWolke({ username, password }) {\n        return this._postEncodeURI(`${oAuthUrl}/login`, { username, password, grant_type: 'password', client_id: null, client_secret: null })\n            .then(resp => {\n                this._oAuth2_access_token = resp.access_token;\n                this._adminPassword = password;\n                return {\n                    success: true\n                };\n            });\n    }\n\n    logout() {\n        return new Promise(resolve => {\n            this._oAuth2_access_token = '';\n            this._adminPassword = '';\n            resolve();\n        });\n    }\n\n    getOAuthUsers() {\n        return this._post(`${oAuthUrl}/get_all`, { admin_password: this._adminPassword });\n    }\n\n    registerOAuthUser({ username, password }) {\n        return this._post(`${oAuthUrl}/register`, { username, password, admin_password: this._adminPassword, grant_type: 'password' });\n    }\n\n    deleteOAuthUser({ username }) {\n        return this._post(`${oAuthUrl}/delete`, { username, admin_password: this._adminPassword, grant_type: 'password' });\n    }\n\n    getCardsUsers() {\n        return this._get(`${cardsUrl}/all_users`);\n    }\n\n    registerCardsUser({ name, isAdmin, from, to }) {\n        return this._post(`${cardsUrl}/upsert_user`, { name, isAdmin, from, to, admin_password: this._adminPassword });\n    }\n\n    deleteCardsUser({ name }) {\n        return this._post(`${cardsUrl}/delete_user`, { name, admin_password: this._adminPassword });\n    }\n}\n\nexport const requestService = new RequestService();","import { useState } from 'react';\nimport { Button, Paper, TextField, Typography } from '@material-ui/core';\nimport { requestService } from '../../lib/requestService/requestService';\n\n\nfunction Login({ onSuccess, setAlert }) {\n    const [ username, setUsername ] = useState('');\n    const [ password, setPassword ] = useState('');\n\n    return (\n        <div className=\"feature-box\">\n            <Paper variant=\"outlined\" className=\"action-box\">\n                <div className=\"elements-box\">\n                    <Typography>\n                        Login\n                    </Typography>\n                    <TextField\n                        label=\"username\"\n                        value={username}\n                        onChange={({ target }) => setUsername(target.value)}\n                    />\n                    <TextField\n                        type=\"password\"\n                        label=\"password\"\n                        value={password}\n                        onChange={({ target }) => setPassword(target.value)}\n                    />\n                </div>\n                <div className=\"elements-box\">\n                    <Button\n                        variant=\"contained\"\n                        onClick={() => {\n                            requestService.loginToWolke({\n                                username,\n                                password\n                            })\n                                .then(resp => {\n                                    if (!resp.success) {\n                                        setAlert({ title: 'Login failed', error: resp });\n                                        return;\n                                    }\n                                    onSuccess(password);\n                                })\n                                .catch(error => setAlert({ title: 'request error', error }));\n                        }}\n                    >\n                        Login\n                    </Button>\n                </div>\n            </Paper>\n        </div>\n    );\n}\n\nexport default Login;","import { useState, useCallback, useEffect } from 'react';\nimport { Button, Paper, TextField, Typography } from '@material-ui/core';\nimport { requestService } from '../../lib/requestService/requestService';\n\n\nfunction OAuth({ setAlert }) {\n    const [ registerUserName, setRegisterUserName ] = useState('');\n    const [ password, setPassword ] = useState('');\n\n    const [ deleteUserName, setDeleteUserName ] = useState('');\n\n    const [ users, setUsers ] = useState([]);\n\n    const getUsers = useCallback(\n        () => {\n            requestService.getOAuthUsers()\n                .then(resp => {\n                    if (!resp.success) {\n                        setAlert({ title: 'Failed to get oAuth2 users', error: resp });\n                        return;\n                    }\n                    setUsers(resp.users);\n                })\n                .catch(error => setAlert({ title: 'request error', error }));\n        },\n        [ setAlert ]\n    );\n\n    useEffect(() => getUsers(), [ getUsers ]);\n\n    return (\n        <div className=\"feature-box\">\n            <Paper variant=\"outlined\" className=\"action-box\">\n                <div className=\"elements-box\">\n                    <Typography>\n                        Register OAuth2 User\n                    </Typography>\n                    <TextField\n                        label=\"name\"\n                        value={registerUserName}\n                        onChange={({ target }) => setRegisterUserName(target.value)}\n                    />\n                    <TextField\n                        label=\"password\"\n                        value={password}\n                        onChange={({ target }) => setPassword(target.value)}\n                    />\n                </div>\n                <div className=\"elements-box\">\n                    <Button\n                        variant=\"contained\"\n                        onClick={() => {\n                            requestService.registerOAuthUser({\n                                username: registerUserName,\n                                password,\n                            })\n                                .then(resp => {\n                                    if (!resp.success) {\n                                        setAlert({ title: 'Failed to register oAuth2 user', error: resp });\n                                        return;\n                                    }\n                                    setRegisterUserName('');\n                                    setPassword('');\n                                    setAlert({ title: 'Registered oAuth2 user' });\n                                    getUsers();\n                                })\n                                .catch(error => setAlert({ title: 'request error', error }));\n                        }}\n                    >\n                        Register\n                    </Button>\n                </div>\n            </Paper>\n            <Paper variant=\"outlined\" className=\"action-box\">\n                <div className=\"elements-box\">\n                    <Typography>\n                        Delete OAuth2 User\n                    </Typography>\n                    <TextField\n                        label=\"name\"\n                        value={deleteUserName}\n                        onChange={({ target }) => setDeleteUserName(target.value)}\n                    />\n                </div>\n                <div className=\"elements-box\">\n                    <Button\n                        variant=\"contained\"\n                        onClick={() => {\n                            requestService.deleteOAuthUser({\n                                username: deleteUserName,\n                            })\n                                .then(resp => {\n                                    if (!resp.success) {\n                                        setAlert({ title: 'Failed to delete oAuth2 user', error: resp });\n                                        return;\n                                    }\n                                    setDeleteUserName('');\n                                    setAlert({ title: 'Deleted oAuth2 user' });\n                                    getUsers();\n                                })\n                                .catch(error => setAlert({ title: 'request error', error }));\n                        }}\n                    >\n                        Delete\n                    </Button>\n                </div>\n            </Paper>\n            <Paper variant=\"outlined\" className=\"action-box\">\n                <div className=\"elements-box\">\n                    <Typography>\n                        All Users\n                    </Typography>\n                    {users.map((user, index) => (\n                        <Typography key={index} className=\"list-item\" color=\"textSecondary\" variant=\"caption\">\n                            {user.username}\n                        </Typography>\n                    ))}\n                </div>\n            </Paper>\n        </div>\n    );\n}\n\nexport default OAuth;","import { useState, useCallback, useEffect } from 'react';\nimport { Button, Checkbox, FormControlLabel, Paper, TextField, Typography } from '@material-ui/core';\nimport { requestService } from '../../lib/requestService/requestService';\n\nfunction parseLangInput(input) {\n    return input.split(', ');\n}\n\n\nfunction Cards({ setAlert }) {\n    const [ registerUserName, setRegisterUserName ] = useState('');\n    const [ from, setFrom ] = useState('');\n    const [ to, setTo ] = useState('');\n    const [ isAdmin, setIsAdmin ] = useState(false); // TODO this is an unused example\n\n    const [ deleteUserName, setDeleteUserName ] = useState('');\n\n    const [ users, setUsers ] = useState([]);\n\n    const getUsers = useCallback(\n        () => {\n            requestService.getCardsUsers()\n                .then(resp => {\n                    if (!resp.success) {\n                        setAlert({ title: 'Failed to get cards users', error: resp });\n                        return;\n                    }\n                    setUsers(resp.users);\n                })\n                .catch(error => setAlert({ title: 'request error', error }));\n        },\n        [ setAlert ]\n    );\n\n    useEffect(() => getUsers(), [ getUsers ]);\n\n    return (\n        <div className=\"feature-box\">\n            <Paper variant=\"outlined\" className=\"action-box\">\n                <div className=\"elements-box\">\n                    <Typography>\n                        Register Cards User\n                    </Typography>\n                    <TextField\n                        label=\"name\"\n                        value={registerUserName}\n                        onChange={({ target }) => setRegisterUserName(target.value)}\n                    />\n                    <TextField\n                        label=\"from\"\n                        value={from}\n                        onChange={({ target }) => setFrom(target.value)}\n                    />\n                    <TextField\n                        label=\"to\"\n                        value={to}\n                        onChange={({ target }) => setTo(target.value)}\n                    />\n                    <FormControlLabel\n                        control={<Checkbox checked={isAdmin} onChange={() => setIsAdmin(prevState => !prevState)} name=\"checkedA\" />}\n                        label=\"is admin\"\n                    />\n                </div>\n                <div className=\"elements-box\">\n                    <Button\n                        variant=\"contained\"\n                        onClick={() => {\n                            requestService.registerCardsUser({\n                                name: registerUserName,\n                                from: parseLangInput(from),\n                                to: parseLangInput(to),\n                                isAdmin\n                            })\n                                .then(resp => {\n                                    if (!resp.success) {\n                                        setAlert({ title: 'Failed to register cards user', error: resp });\n                                        return;\n                                    }\n                                    setRegisterUserName('');\n                                    setFrom('');\n                                    setTo('');\n                                    setIsAdmin(false);\n                                    setAlert({ title: `Registered cards user ${resp.user.name}` });\n                                    getUsers();\n                                })\n                                .catch(error => setAlert({ title: 'request error', error }));\n                        }}\n                    >\n                        Register\n                    </Button>\n                </div>\n            </Paper>\n            <Paper variant=\"outlined\" className=\"action-box\">\n                <div className=\"elements-box\">\n                    <Typography>\n                        Delete Cards User\n                    </Typography>\n                    <TextField\n                        label=\"name\"\n                        value={deleteUserName}\n                        onChange={({ target }) => setDeleteUserName(target.value)}\n                    />\n                </div>\n                <div className=\"elements-box\">\n                    <Button\n                        variant=\"contained\"\n                        onClick={() => {\n                            requestService.deleteCardsUser({\n                                name: deleteUserName,\n                            })\n                                .then(resp => {\n                                    if (!resp.success) {\n                                        setAlert({ title: 'Failed to delete cards user', error: resp });\n                                        return;\n                                    }\n                                    setDeleteUserName('');\n                                    setAlert({ title: 'Deleted cards user' });\n                                    getUsers();\n                                })\n                                .catch(error => setAlert({ title: 'request error', error }));\n                        }}\n                    >\n                        Delete\n                    </Button>\n                </div>\n            </Paper>\n            <Paper variant=\"outlined\" className=\"action-box\">\n                <div className=\"elements-box\">\n                    <Typography>\n                        All Users\n                    </Typography>\n                    {users.map((user, index) => (\n                        <Typography key={index} className=\"list-item\" color=\"textSecondary\" variant=\"caption\">\n                            {user.name}\n                        </Typography>\n                    ))}\n                </div>\n            </Paper>\n        </div>\n    );\n}\n\nexport default Cards;","import { useEffect } from 'react';\nimport { Dialog, DialogContent, DialogContentText, DialogTitle, Typography } from '@material-ui/core';\n\nconst alertDefaultTime = 2;\n\n\nfunction Alert({ alert, reset }) {\n    const { title, text, error, time } = alert;\n\n    useEffect(() => {\n        if (!title && !text) {\n            return;\n        }\n        const timeoutId = setTimeout(reset, (error ? 60 : (time || alertDefaultTime)) * 1000);\n        return () => clearTimeout(timeoutId);\n    }, [ reset, title, text, error, time ]);\n\n    const open = !!title || !!text;\n\n    const errorMessage = [];\n    if (error) {\n        for (const key in error) {\n            const value = error[key];\n            if (typeof value === 'string' || typeof value === 'number') {\n                errorMessage.push(`${key}: ${value}`);\n            }\n        }\n    }\n\n    return (\n        <Dialog\n            open={open}\n            onClick={reset}\n            aria-labelledby=\"alert-dialog-title\"\n            aria-describedby=\"alert-dialog-description\"\n        >\n            {!!title && (\n                <DialogTitle id=\"alert-dialog-title\" className={error ? 'alert-error' : ''}>\n                    {title}\n                </DialogTitle>\n            )}\n            <DialogContent>\n                <DialogContentText id=\"alert-dialog-description\">\n                {!!text && (\n                    <Typography>\n                        {text}\n                    </Typography>\n                )}\n                {!!errorMessage.length && errorMessage.map((message, index) => (\n                    <Typography key={index}>\n                        {message}\n                    </Typography>\n                ))}\n                </DialogContentText>\n            </DialogContent>\n        </Dialog>\n    );\n}\n\nexport default Alert;","import { useState } from 'react';\nimport './App.css';\nimport { Button, Menu, MenuItem } from '@material-ui/core';\nimport { requestService } from './lib/requestService/requestService';\nimport Login from './components/Login/Login';\nimport OAuth from './features/OAuth/OAuth';\nimport Cards from './features/Cards/Cards';\nimport Alert from './components/Alert/Alert';\n\nconst Features = {\n    NONE: 'none',\n    OAUTH2: 'oauth2',\n    CARDS: 'cards'\n};\n\nconst featureNames = Object.values(Features);\n\nconst featureComponents = {\n    [Features.NONE]: null,\n    [Features.OAUTH2]: OAuth,\n    [Features.CARDS]: Cards\n};\n\nconst resetAlertValue = () => ({ title: '', text: '', error: null });\n\n\nfunction App() {\n    const [ isAuthenticated, setIsAuthenticated ] = useState(false);\n    const [ menuRef, setMenuRef ] = useState(null);\n    const [ currentFeature, setCurrentFeature ] = useState(featureNames[0]);\n    const [ alert, setAlert ] = useState(resetAlertValue);\n\n    const FeatureComponent = featureComponents[currentFeature];\n\n    const handleMenuClick = event => {\n        setMenuRef(event.currentTarget);\n    };\n\n    const handleMenuClose = event => {\n        event.stopPropagation();\n        const updatedFeature = event.target.innerText;\n        if (featureNames.includes(updatedFeature)) {\n            setCurrentFeature(updatedFeature);\n        }\n        setMenuRef(null);\n    };\n\n    const onLoginSuccess = adminPassword => {\n        setIsAuthenticated(true);\n    }\n\n    const onLogoutSuccess = () => {\n        setAlert({ title: `You're logged out` });\n        setIsAuthenticated(false);\n    };\n\n    return (\n        <div className=\"App\">\n            {!isAuthenticated ? (\n                <Login\n                    onSuccess={onLoginSuccess}\n                    setAlert={setAlert}\n                />\n            ) : (\n                <>\n                    <div className=\"top-line\">\n                        <Button\n                            variant=\"contained\"\n                            color=\"primary\"\n                            aria-controls=\"simple-menu\"\n                            aria-haspopup=\"true\"\n                            onPointerDown={handleMenuClick}\n                        >\n                            {currentFeature}\n                        </Button>\n                        <Menu\n                            id=\"simple-menu\"\n                            anchorEl={menuRef}\n                            keepMounted\n                            open={Boolean(menuRef)}\n                        >\n                            {featureNames.map((featureName, index) => (\n                                <MenuItem key={index} onPointerDown={handleMenuClose}>\n                                    {featureName}\n                                </MenuItem>\n                            ))}\n                        </Menu>\n\n                        <Button\n                            variant=\"contained\"\n                            onClick={() => requestService.logout().then(onLogoutSuccess)}\n                        >\n                            Logout\n                        </Button>\n                    </div>\n\n                    {FeatureComponent && (\n                        <FeatureComponent setAlert={setAlert} />\n                    )}\n                </>\n            )}\n\n            <Alert alert={alert} reset={() => setAlert(resetAlertValue)} />\n        </div>\n    );\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\n\n\nReactDOM.render(\n    <React.StrictMode>\n        <App/>\n    </React.StrictMode>,\n    document.getElementById('root')\n);\n\n"],"sourceRoot":""}